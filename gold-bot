import requests

TOKEN = "8275558518:AAFmPd1j3o3iCThb59d-v_SdgGqZzf4NihI"
CHAT_ID = "7838829948"

def get_price(symbol):
    try:
        url = f"https://api.gold-api.com/price/{symbol}" 
        response = requests.get(url)
        data = response.json()
        price_per_gram_inr = (data['price'] / 31.1035) * 85
        return round(price_per_gram_inr, 2)
    except:
        return None

def send_message(text):
    url = f"https://api.telegram.org/bot{TOKEN}/sendMessage"
    payload = {"chat_id": CHAT_ID, "text": text, "parse_mode": "Markdown"}
    requests.post(url, json=payload)

gold = get_price("XAU")
silver = get_price("XAG")

if gold and silver:
    # ‡¥µ‡¥ø‡¥≤ ‡¥ï‡µÇ‡¥ü‡¥ø‡¥Ø‡µã ‡¥ï‡µÅ‡¥±‡¥û‡µç‡¥û‡µã ‡¥é‡¥®‡µç‡¥®‡µç ‡¥®‡µã‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥ó‡¥ø‡¥±‡µç‡¥±‡µç‡¥π‡¥¨‡µç‡¥¨‡µç ‡¥§‡¥®‡µç‡¥®‡µÜ ‡¥µ‡¥¥‡¥ø ‡¥§‡¥∞‡µÅ‡¥Ç, ‡¥§‡µΩ‡¥ï‡µç‡¥ï‡¥æ‡¥≤‡¥Ç ‡¥±‡µá‡¥±‡µç‡¥±‡µç ‡¥ï‡¥æ‡¥£‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡¥Ç
    msg = (
        f"üìä *Daily Price Update (12 PM)*\n\n"
        f"üü° *Gold (1g):* ‚Çπ{gold}\n"
        f"‚ö™ *Silver (1g):* ‚Çπ{silver}\n\n"
        f"_(‡¥µ‡¥ø‡¥≤‡¥Ø‡¥ø‡¥≤‡µÜ ‡¥Æ‡¥æ‡¥±‡µç‡¥±‡¥Ç ‡¥®‡¥æ‡¥≥‡µÜ ‡¥Æ‡µÅ‡¥§‡µΩ ‡¥ï‡¥æ‡¥£‡¥ø‡¥ö‡µç‡¥ö‡µÅ ‡¥§‡µÅ‡¥ü‡¥ô‡µç‡¥ô‡µÅ‡¥Ç)_"
    )
    send_message(msg)
